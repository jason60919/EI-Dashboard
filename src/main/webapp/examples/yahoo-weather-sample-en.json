{"version":1,"allow_edit":true,"plugins":[],"panes":[{"title":"Place","width":1,"row":{"1":1,"2":1,"3":1},"col":{"1":1,"2":1,"3":1},"col_width":3,"widgets":[{"type":"text_widget","settings":{"title":"","size":"regular","value":"datasources[\"yahooweather\"][\"item\"][\"title\"]","decimal":0,"comma":false,"metric_prefix":false,"units":"","animate":false,"chart_type":"line","chart_color":"#ff9900","chart_minmax_color":"#0496ff"}}]},{"title":"Google Map","width":1,"row":{"1":5,"2":5,"3":5,"4":5,"5":5},"col":{"1":1,"2":1,"3":2,"4":2,"5":2},"col_width":2,"widgets":[{"type":"google_map","settings":{"blocks":4,"lat":"datasources[\"yahooweather\"][\"latitude\"]","lon":"datasources[\"yahooweather\"][\"longitude\"]","drawpath":false}}]},{"title":"Text","width":1,"row":{"1":15,"2":15,"3":5,"4":5,"5":5,"6":5,"7":5},"col":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"col_width":1,"widgets":[{"type":"text_widget","settings":{"title":"","size":"regular","value":"datasources[\"yahooweather\"][\"conditions\"]","decimal":0,"comma":false,"metric_prefix":false,"units":"","animate":false,"chart_type":"line","chart_color":"#ff9900","chart_minmax_color":"#0496ff"}},{"type":"text_widget","settings":{"title":"Temperature","size":"big","value":"datasources[\"yahooweather\"][\"current_temp\"]","decimal":0,"comma":false,"metric_prefix":false,"units":"째C","animate":true,"chart":true,"chart_type":"line","chart_color":"#ff9900","chart_minmax_color":"#0496ff"}},{"type":"text_widget","settings":{"title":"Maximum Temperature","size":"regular","value":"datasources[\"yahooweather\"][\"high_temp\"]","decimal":0,"comma":false,"metric_prefix":false,"units":"째C","animate":true,"chart":false,"chart_type":"line","chart_color":"#ff9900","chart_minmax_color":"#0496ff"}},{"type":"text_widget","settings":{"title":"Minimum Temperature","size":"regular","value":"datasources[\"yahooweather\"][\"low_temp\"]","decimal":0,"comma":false,"metric_prefix":false,"units":"째C","animate":true,"chart_type":"line","chart_color":"#ff9900","chart_minmax_color":"#0496ff"}},{"type":"text_widget","settings":{"title":"Sunrise","size":"regular","value":"datasources[\"yahooweather\"][\"sunrise\"]","decimal":0,"comma":false,"metric_prefix":false,"units":"","animate":true,"chart_type":"line","chart_color":"#ff9900","chart_minmax_color":"#0496ff"}},{"type":"text_widget","settings":{"title":"Sunset","size":"regular","value":"datasources[\"yahooweather\"][\"sunset\"]","decimal":0,"comma":false,"metric_prefix":false,"units":"","animate":true,"chart_type":"line","chart_color":"#ff9900","chart_minmax_color":"#0496ff"}}]},{"title":"Pointer","width":1,"row":{"1":31,"2":25,"3":15,"4":19,"5":19,"6":19,"7":19},"col":{"1":1,"2":2,"3":3,"4":1,"5":1,"6":1,"7":1},"col_width":1,"widgets":[{"type":"pointer","settings":{"title":"Wind speed &amp; direction","blocks":4,"direction":"datasources[\"yahooweather\"][\"wind_direction\"]","value_text":"datasources[\"yahooweather\"][\"wind_speed\"]","units":"m","circle_color":"#ff9900","pointer_color":"#fff"}}]},{"title":"Gauge","width":1,"row":{"1":41,"2":15,"3":15,"6":15},"col":{"1":1,"2":2,"3":2,"6":2},"col_width":1,"widgets":[{"type":"gauge","settings":{"title":"Humidity","blocks":4,"type":"half","value":"datasources[\"yahooweather\"][\"humidity\"]","decimal":0,"comma":false,"metric_prefix":false,"animate":true,"units":"%","value_fontcolor":"#d3d4d4","gauge_upper_color":"#ff0000","gauge_mid_color":"#f9c802","gauge_lower_color":"#a9d70b","gauge_color":"#edebeb","gauge_width":50,"show_minmax":true,"min_value":0,"max_value":100}}]},{"title":"INDICATOR LIGHT","width":1,"row":{"1":51,"2":31,"3":21,"4":17,"5":17,"6":17,"7":17},"col":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"col_width":1,"widgets":[{"type":"indicator","settings":{"title":"falling snow?","value":"var snowcode = [\n    7, 14, 15, 16, 41, 42, 43, 46\n];\nreturn (_.indexOf(snowcode, Number(datasources[\"yahooweather\"][\"item\"][\"condition\"][\"code\"])) == -1) ? 0 : 1;\n","on_text":"yes","off_text":"no"}}]},{"title":"C3 Sub Chart","width":1,"row":{"1":55,"2":35,"3":25,"4":21,"5":21,"6":21,"7":21},"col":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"col_width":3,"widgets":[{"type":"c3js","settings":{"title":"Temperature / Humidity","blocks":7,"value":"// Initial data setup\nfunction initialize() {\n    _global.duration = 1*60*30;\t\t\t\t// display duration form start timestamp (second)\n    _global.columns = [\n        ['x'],\n        ['Temperature'],\n        ['TempHi'],\n        ['TempLo'],\n        ['Humidity']\n    ];\n  \n    _global.datasets = {\n         _op: 'load',\n        data: {\n            columns: _global.columns\n        }\n    };\n\n    pushData(_global.datasets.data.columns);\n   \n    _global.init = true;\n    return _global.datasets;\n}\n\nfunction pushData(col) {\n    col[0].push(moment().toDate());\n    col[1].push(datasources[\"yahooweather\"][\"current_temp\"]);\n    col[2].push(datasources[\"yahooweather\"][\"high_temp\"]);\n    col[3].push(datasources[\"yahooweather\"][\"low_temp\"]);\n    col[4].push(datasources[\"yahooweather\"][\"humidity\"]);\n}\n\nfunction durationFiltering(col, duration) {\n    var threshhold = moment().unix() - duration;\n\tvar first = moment(col[0][1]).unix();\t\t// first timestamp data\n    if (first < threshhold) {\n        _.each(col, function(v) {\n               v = v.splice(1, 1);\n\t\t});\n    }\n    pushData(col);\n}\n\nif (_.isUndefined(_global.init) || _global.init === false)\n    return initialize();\n\ndurationFiltering(_global.columns, _global.duration);\n\nreturn { columns: _global.columns };\n","options":"{\n    \"data\": {\n        \"x\": \"x\",\n        \"axes\": {\n            \"Temperature\": \"y\",\n            \"TempHi\": \"y\",\n            \"TempLo\": \"y\",\n            \"Humidity\": \"y2\"\n        }\n    },\n    \"point\": {\n        \"show\": false\n    },\n    \"axis\": {\n        \"y\": {\n            \"label\": \"Temperature\",\n            \"tick\": {\n                \"format\": \"function (v, id, i, j) { return v+'째C'; }\"\n            }\n        },\n        \"y2\": {\n            \"show\": true,\n            \"label\": \"Humidity\",\n            \"tick\": {\n                \"format\": \"function (v, id, i, j) { return v+'%'; }\"\n            }\n        },\n        \"x\": {\n            \"type\": \"timeseries\",\n            \"tick\": {\n                \"format\": \"%H:%M:%S\"\n            }\n        }\n    },\n    \"subchart\": {\n        \"show\": true\n    }\n}"}}]}],"datasources":[{"name":"yahooweather","type":"yahooweather","settings":{"location":"98101","units":"metric","refresh":30}}],"columns":3}